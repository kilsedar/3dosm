<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: OSMBuildingLayer</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: OSMBuildingLayer</h1>

    




<section>

<header>
    
        <h2>OSMBuildingLayer</h2>
        
            <div class="class-description">Fetches OSM buildings, converts them to GeoJSON, and adds them to the WorldWindow.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="OSMBuildingLayer"><span class="type-signature"></span>new OSMBuildingLayer<span class="signature">(worldWindow, configuration, source)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Creates a sublass of the OSMLayer class.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>worldWindow</code></td>
            

            <td class="type">
            
                
<span class="param-type">WorldWindow</span>


            
            </td>

            

            

            <td class="description last">The WorldWindow where the OSMBuildingLayer is added to.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>configuration</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Configuration is used to set the attributes of ShapeAttributes. Four more attributes can be defined, which are "extrude", "heatmap", "altitude" and "altitudeMode".</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>source</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Defines the data source of the <a href="OSMBuildingLayer.html">OSMBuildingLayer</a>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="OSMBuildingLayer.js.html">OSMBuildingLayer.js</a>, <a href="OSMBuildingLayer.js.html#line22">line 22</a>
    </li></ul></dd>
    

    

    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="add"><span class="type-signature"></span>add<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Calls <a href="OSMBuildingLayer.html#addByBoundingBox">addByBoundingBox</a> if the "type" of the layer's "_source" member variable is "boundingBox" and the "coordinates" of the layer's "_source" member variable is defined.
Calls <a href="OSMBuildingLayer.html#addByGeoJSONFile">addByGeoJSONFile</a> if the "type" of the layer's "_source" member variable is "GeoJSONFile" and the "path" of the layer's "_source" member variable is defined.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="OSMBuildingLayer.js.html">OSMBuildingLayer.js</a>, <a href="OSMBuildingLayer.js.html#line68">line 68</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        If the source definition is wrong.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">ArgumentError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    





        
            

    

    <h4 class="name" id="addByBoundingBox"><span class="type-signature"></span>addByBoundingBox<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Makes an AJAX request to fetch the OSM building data using the "coordinates" of the layer's "_source" member variable and Overpass API, converts it to GeoJSON using osmtogeojson API,
adds the GeoJSON to the WorldWindow using the GeoJSONParserTriangulationOSM.
It also sets the "boundingBox" member variable of the layer.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="OSMBuildingLayer.js.html">OSMBuildingLayer.js</a>, <a href="OSMBuildingLayer.js.html#line87">line 87</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>
<ul>
        <li>

<dl>
    <dt>
        <div class="param-desc">
        If the "coordinates" of the layer's "_source" member variable doesn't have four values.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">ArgumentError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        If the request to OSM fails.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">ArgumentError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    </ul>





        
            

    

    <h4 class="name" id="addByGeoJSONFile"><span class="type-signature"></span>addByGeoJSONFile<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Makes an AJAX request using the "path" of the layer's "_source" member variable to fetch the GeoJSON file, adds the GeoJSON to the WorldWindow using the GeoJSONParserTriangulationOSM.
It also sets the "boundingBox" member variable of the layer by calling <a href="OSMBuildingLayer.html#calculateBoundingBox">calculateBoundingBox</a>. // Not anymore, because for big files it would take time.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="OSMBuildingLayer.js.html">OSMBuildingLayer.js</a>, <a href="OSMBuildingLayer.js.html#line154">line 154</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>
<ul>
        <li>

<dl>
    <dt>
        <div class="param-desc">
        If the data returned from the request is empty.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">ArgumentError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    
        <li>

<dl>
    <dt>
        <div class="param-desc">
        If the request fails.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">ArgumentError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>

</li>
    </ul>





        
            

    

    <h4 class="name" id="calculateBoundingBox"><span class="type-signature"></span>calculateBoundingBox<span class="signature">(dataOverpassGeoJSON)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Calculates the bounding box of a GeoJSON object, where its features are expected to be of type "Polygon" or "MultiPolygon".
It also sets the "boundingBox" member variable of the layer.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dataOverpassGeoJSON</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">GeoJSON object of which the bounding box is calculated.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="OSMBuildingLayer.js.html">OSMBuildingLayer.js</a>, <a href="OSMBuildingLayer.js.html#line128">line 128</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="shapeConfigurationCallback"><span class="type-signature"></span>shapeConfigurationCallback<span class="signature">(geometry)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    Sets the attributes of ShapeAttributes and four more attributes defined specifically for OSMBuildingLayer, which are "extrude", "heatmap", "altitude" and "altitudeMode".
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>geometry</code></td>
            

            <td class="type">
            
                
<span class="param-type">GeoJSONGeometry</span>


            
            </td>

            

            

            <td class="description last">An object containing the geometry of the OSM data in GeoJSON format for the OSMBuildingLayer.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="OSMBuildingLayer.js.html">OSMBuildingLayer.js</a>, <a href="OSMBuildingLayer.js.html#line44">line 44</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    An object with the attributes ShapeAttributes and four more attributes, which are "extrude", "heatmap", "altitude" and "altitudeMode", where all of them are defined in the configuration of the OSMBuildingLayer.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="OSMBuildingLayer.html">OSMBuildingLayer</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Tue Jul 25 2017 17:06:46 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>